{% extends 'base.html' %}
{% comment %} Home / Landing page using the provided hero HTML adapted to Django. {% endcomment %}

{% block title %}ResumeAI â€” Home{% endblock %}

{% block content %}

<div class="min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 relative overflow-hidden text-white">

  <!-- Floating decorative elements -->
  <div class="absolute inset-0">
    <div class="floating-element" style="top: 10%; left: 15%; animation-duration: 18s;"></div>
    <div class="floating-element" style="top: 80%; left: 90%; animation-duration: 12s;"></div>
    <div class="floating-element" style="top: 45%; left: 5%; animation-duration: 25s;"></div>
    <div class="floating-element floating-element-star" style="top: 60%; right: 15%; width: 1.5rem; height: 1.5rem; background-color: rgba(139, 92, 246, 0.4);"></div>
  </div>

  <!-- Gradient overlays -->
  <div class="absolute inset-0 bg-[radial-gradient(circle_at_30%_50%,rgba(59,130,246,0.08),transparent_50%)]"></div>
  <div class="absolute inset-0 bg-[radial-gradient(circle_at_70%_80%,rgba(139,92,246,0.08),transparent_50%)]"></div>

  <!-- Custom hero nav (we hide base nav/footer for this page via hide_header_footer) -->
  <nav class="w-full py-6 z-10 relative">
    <div class="flex items-center justify-between">
      <div class="flex items-center gap-2">
        <div class="w-8 h-8 text-blue-400">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M9.9 10.2L7 17l9-2-6-3.8z"></path>
            <path d="M12.9 6.8L16 2.5l-9 2 6 3.8z"></path>
            <path d="M14.7 13.9L17 21l-9-2 6-3.8z"></path>
          </svg>
        </div>
        <span class="text-white text-xl font-bold">ResumeAI</span>
      </div>
      <div class="flex items-center gap-3">
        {% if user.is_authenticated %}
          <span class="text-white/90">Hello, {{ user.username }}</span>
          <a href="{% url 'app:ats_analysis' %}" class="px-4 py-2 bg-white/10 text-white rounded-lg border border-white/20">ATS Analysis</a>
          <form method="post" action="{% url 'logout' %}" class="inline">
            {% csrf_token %}
            <button type="submit" class="px-4 py-2 bg-red-500 text-white rounded-lg">Logout</button>
          </form>
        {% else %}
          <a href="{% url 'login' %}" class="px-4 py-2 text-white/80 hover:text-white">Sign In</a>
          <a href="{% url 'app:signup' %}" class="px-4 py-2 bg-white/10 text-white rounded-lg border border-white/20">Sign Up</a>
        {% endif %}
      </div>
    </div>
  </nav>

  <!-- Hero content -->
  <div class="w-full pt-20 pb-32 relative z-10">
    <div class="max-w-6xl mx-auto text-center">
      <div class="inline-flex items-center gap-2 px-4 py-2 bg-blue-500/20 rounded-full mb-6">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-yellow-400" viewBox="0 0 24 24" fill="currentColor" stroke="none">
          <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
        </svg>
        <span class="text-blue-200">Trusted by Job Seekers</span>
      </div>

      <h1 class="text-4xl sm:text-6xl font-extrabold mb-6">
        <span class="block mb-2">Craft the Perfect Resume to</span>
        <span id="dynamic-headline" class="block text-gradient text-5xl sm:text-7xl font-black">Land Your Dream Job</span>
      </h1>

      <p class="text-xl text-slate-300 max-w-3xl mx-auto mb-10">AI-powered resume analysis and optimization tool that helps you beat ATS systems and impress recruiters. Get instant feedback and actionable insights.</p>

      <div class="flex flex-col sm:flex-row gap-4 justify-center mb-16">
        <a href="{% url 'app:ats_analysis' %}" class="group px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-2">Analyze Your Resume
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 group-hover:translate-x-1 transition-transform" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M5 12l14 0"></path>
            <path d="M13 18l6 -6"></path>
            <path d="M13 6l6 6"></path>
          </svg>
        </a>

        <a href="{% url 'app:resume_list' %}" class="px-8 py-4 bg-white/10 text-white rounded-xl hover:bg-white/20 transition-all border border-white/20">Get Started Free</a>
      </div>

      <!-- Stats area -->
      <div class="grid grid-cols-1 sm:grid-cols-3 gap-8 max-w-3xl mx-auto">
        <div class="p-4 rounded-xl">
          <div class="text-4xl font-extrabold text-white mb-1"><span id="stat-1">0</span></div>
          <div class="text-slate-400">Resumes Analyzed</div>
        </div>
        <div class="p-4 rounded-xl">
          <div class="text-4xl font-extrabold text-white mb-1"><span id="stat-2">0</span></div>
          <div class="text-slate-400">Success Rate</div>
        </div>
        <div class="p-4 rounded-xl">
          <div class="text-4xl font-extrabold text-white mb-1"><span id="stat-3">0.0</span></div>
          <div class="text-slate-400">User Rating</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Features and other sections can be inserted here if desired -->

  <!-- Small inline styles used by hero (kept small to avoid editing tailwind build) -->
  <style>
    .floating-element{position:absolute;width:1rem;height:1rem;background-color:rgba(255,255,255,0.08);border-radius:50%;pointer-events:none;animation:float 15s infinite ease-in-out;opacity:0.3}
    .floating-element-star{filter:drop-shadow(0 0 5px rgba(59,130,246,0.8));animation:float 20s infinite ease-in-out}
    @keyframes float{0%{transform:translate(0,0) rotate(0deg);opacity:.3}50%{transform:translate(20px,30px) rotate(180deg);opacity:.5}100%{transform:translate(0,0) rotate(360deg);opacity:.3}}
    .text-gradient{background-image:linear-gradient(to right,#60A5FA,#A78BFA,#F472B6);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
  </style>

  <!-- Hero scripts: headline rotation, stats animation and feature observer -->
  <script>
    const dynamicTexts = ['Land Your Dream Job','Beat the ATS System','Stand Out to Recruiters','Get More Interviews','Build a Winning Resume'];
    let currentTextIndex = 0;
    const headlineEl = document.getElementById('dynamic-headline');
    function updateHeadline(){ if(headlineEl){ headlineEl.style.opacity='0'; headlineEl.style.transform='translateY(20px)'; setTimeout(()=>{ headlineEl.textContent=dynamicTexts[currentTextIndex]; headlineEl.style.opacity='1'; headlineEl.style.transform='translateY(0)'; currentTextIndex=(currentTextIndex+1)%dynamicTexts.length; },500);} }
    function animateValue(el,start,end,duration,decimals=0){ let startTs=null; const step=(ts)=>{ if(!startTs) startTs=ts; const progress=Math.min((ts-startTs)/duration,1); const value=progress*(end-start)+start; el.textContent=value.toFixed(decimals); if(progress<1) window.requestAnimationFrame(step); else el.textContent=end.toFixed(decimals); }; window.requestAnimationFrame(step); }
    function startStatsAnimation(){ const stats=[{id:'stat-1',value:10000,decimals:0,suffix:'+'},{id:'stat-2',value:87,decimals:0,suffix:'%'},{id:'stat-3',value:4.9,decimals:1,suffix:'/5'}]; stats.forEach(stat=>{ const el=document.getElementById(stat.id); if(!el) return; const observer=new IntersectionObserver(entries=>{ entries.forEach(entry=>{ if(entry.isIntersecting){ animateValue(el,0,stat.value,2000,stat.decimals); setTimeout(()=>{ el.textContent = stat.value.toFixed(stat.decimals) + stat.suffix; },2100); observer.unobserve(entry.target); } }); },{threshold:0.8}); observer.observe(el); }); }
    window.addEventListener('load',()=>{ setTimeout(updateHeadline,3000); setInterval(updateHeadline,3000); startStatsAnimation(); });
  </script>

  <!-- Custom footer included here to match hero design -->
  <footer class="bg-gray-900 text-white py-12 mt-16 relative z-10">
    <div class="max-w-6xl mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
        <div>
          <h2 class="text-2xl font-bold text-blue-400 mb-4">ResumeAI</h2>
          <p class="text-gray-300 mb-4 leading-relaxed">Craft powerful resumes with AI assistance and ATS-friendly templates.</p>
          <div class="flex items-start text-gray-300"><svg class="w-5 h-5 mr-2 mt-1 text-blue-400" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M21 10c0 6-9 13-9 13S3 16 3 10a9 9 0 1118 0z"/></svg><p>Phagwara, Punjab, India</p></div>
        </div>
        <div>
          <h3 class="text-lg font-semibold mb-4">Platform</h3>
          <ul class="space-y-2 text-gray-300"><li><a href="#">About Us</a></li><li><a href="#">Templates</a></li><li><a href="#">Resume Tips</a></li><li><a href="#">Preview</a></li></ul>
        </div>
        <div>
          <h3 class="text-lg font-semibold mb-4">Resources</h3>
          <ul class="space-y-2 text-gray-300"><li><a href="#">Contact</a></li><li><a href="#">Blog</a></li><li><a href="#">FAQs</a></li><li><a href="#">Support</a></li></ul>
        </div>
        <div>
          <h3 class="text-lg font-semibold mb-4">Connect</h3>
          <div class="flex space-x-4">
            {% for icon in social_icons %}
              <a href="#" title="{{ icon|capfirst }}" class="bg-gray-800 hover:bg-blue-600 p-3 rounded-full transition"><i class="fab fa-{{ icon }} text-white text-lg"></i></a>
            {% endfor %}
          </div>
        </div>
      </div>

      <div class="border-t border-gray-700 mt-8 pt-8 text-center">
        <p class="text-gray-300">&copy; {{ now.year }} ResumeAI. All Rights Reserved.</p>
      </div>
    </div>
  </footer>

</div>

{% endblock %}
